---
title: "Semana 4. Segmentación por Parches Planos en entorno Carla"
categories:
  - Weblog
tags:
  - LiDAR
  - CARLA
  - Parches Planos
  - Nubes de Puntos
  - Open3D
  - RANSAC
  - DBSCAN
---

Durante esta cuarta semana he implementado un **sistema integral de simulación, adquisición y análisis de datos LiDAR en CARLA**, con detección automática de **superficies planas** en tiempo real y procesamiento posterior optimizado. Hr intentado sin éxito crear un escenario simplificado, al no conseguirlo he optado por probarlo con un ejemplo predeterminado pero situado en una calle que cumplía con mis especificaciones.
![CIUDAD](/assets/images/PARCHES4.png)

---

## Avances en la Simulación del LiDAR en CARLA

He logrado un sistema completamente funcional que combina **simulación física**, **procesamiento geométrico** y **visualización interactiva**, integrando componentes del simulador CARLA con bibliotecas de análisis científico como **NumPy**, **scikit-learn** y **Open3D**.

### Principales características del sistema

- **Captura continua de nubes de puntos** generadas por el sensor LiDAR virtual.  
- **Visualización en tiempo real** con Open3D, incluyendo colorización por intensidad.  
- **Almacenamiento automático** de datos cada 10 frames en formato `.pkl`.  
- **Segmentación mejorada de parches planos** usando RANSAC adaptativo y DBSCAN.  
- **Clasificación automática de superficies** (suelo, paredes, techo e inclinadas).  

---
![CIUDAD](/assets/images/PARCHES1.png)![CIUDAD](/assets/images/PARCHES3.png)
![CIUDAD](/assets/images/PARCHES2.png)

## ⚙️ Configuración del Sensor LiDAR

El sensor empleado (`sensor.lidar.ray_cast`) se configuró con los siguientes parámetros:

```python
lidar_bp.set_attribute('channels', '32')
lidar_bp.set_attribute('range', '50')
lidar_bp.set_attribute('rotation_frequency', '5')
lidar_bp.set_attribute('points_per_second', '100000')
```
Para la semana que viene, crearé un escenario diseñado por mi donde pueda ir probando el funcionamiento de la segmentación por parches planos. 
